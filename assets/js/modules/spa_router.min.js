async function loadContent(t,n){try{const e=t.replace(".html",".min.html"),o=await fetch(e),a=await o.text(),r=new DOMParser,i=r.parseFromString(a,"text/html"),c=i.querySelector("main").innerHTML,l=i.querySelector("title").innerText;n.innerHTML=c,document.title=l,window.scrollTo(0,0),onContentLoadCallback&&onContentLoadCallback()}catch(t){console.error("Falha no carregamento da página:",t)}}let onContentLoadCallback;export function initRouter(t){onContentLoadCallback=t;const n=document.getElementById("page-content");n?(document.body.addEventListener("click",t=>{const e=t.target.closest("a");if(!e||"_blank"===e.target||!e.href.startsWith(window.location.origin))return;if(e.pathname===window.location.pathname&&e.hash)return;t.preventDefault();const o=e.pathname;o!==window.location.pathname&&(history.pushState({path:o},"",o),loadContent(o,n))}),window.addEventListener("popstate",t=>{const e=window.location.pathname.replace("/wupeva-projeto-ong",""),o="/"===e||""===e?"index.html":e;loadContent(o,n)})):console.error("Elemento #page-content não encontrado. O SPA não pode iniciar.")}